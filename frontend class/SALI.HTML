<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Salary Analytics Dashboard</title>

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{
    background: linear-gradient(135deg,#2b5876,#4e4376);
    min-height:100vh;
}
.card{
    border-radius:16px;
    box-shadow:0 12px 25px rgba(0,0,0,.25);
}
.result{
    font-weight:600;
    color:#0d6efd;
}
table{
    font-size:14px;
}
</style>
</head>

<body class="p-4">

<div class="container">

<h2 class="text-center text-white mb-4">
Salary Analytics (reduce • map • filter)
</h2>

<div class="card p-4">

<!-- BUTTON -->
<div class="text-center mb-4">
<button class="btn btn-primary px-4" onclick="analyze()">Run Analytics</button>
</div>

<!-- RESULTS -->
<div id="stats" class="result mb-4"></div>

<!-- TABLES -->
<div class="row">

<div class="col-md-6">
<h5>Between 10k – 20k</h5>
<table class="table table-striped" id="betweenTable"></table>
</div>

<div class="col-md-6">
<h5>Outside Range</h5>
<table class="table table-striped" id="outsideTable"></table>
</div>

</div>

</div>
</div>


<script>

/////////////////////////////////////////////////
// DATASET
/////////////////////////////////////////////////
let users = [
  {id:1,name:"John",sal:23000},
  {id:2,name:"Diana",sal:12000},
  {id:3,name:"Russel",sal:17000}
];

/////////////////////////////////////////////////
// MAIN ANALYTICS FUNCTION
/////////////////////////////////////////////////
function analyze(){

    // ⭐ Modern JS magic
    let total = users.reduce((s,u)=>s+u.sal,0);
    let avg = total/users.length;

    let max = Math.max(...users.map(u=>u.sal));
    let min = Math.min(...users.map(u=>u.sal));

    let between = users.filter(u=>u.sal>=10000 && u.sal<=20000);
    let outside = users.filter(u=>u.sal<10000 || u.sal>20000);


    //////////////////////////////////////////////////
    // Console (developer view)
    //////////////////////////////////////////////////
    console.log("Users:",users);
    console.log("Total:",total);
    console.log("Average:",avg);
    console.log("Max:",max);
    console.log("Min:",min);
    console.log("Between:",between);
    console.log("Outside:",outside);


    //////////////////////////////////////////////////
    // Show stats on UI
    //////////////////////////////////////////////////
    stats.innerHTML = `
        Total Salary : ₹ ${total} <br>
        Average Salary : ₹ ${avg.toFixed(2)} <br>
        Max Salary : ₹ ${max} <br>
        Min Salary : ₹ ${min}
    `;


    //////////////////////////////////////////////////
    // Helper to create table
    //////////////////////////////////////////////////
    function createTable(data, tableId){

        let html = `
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Salary</th>
            </tr>
        `;

        data.forEach(u=>{
            html += `
                <tr>
                    <td>${u.id}</td>
                    <td>${u.name}</td>
                    <td>${u.sal}</td>
                </tr>
            `;
        });

        document.getElementById(tableId).innerHTML = html;
    }

    createTable(between,"betweenTable");
    createTable(outside,"outsideTable");
}

</script>

</body>
</html>
